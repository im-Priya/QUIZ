/* Design tokens */
:root {
	--bg: #0b0f14;
	--card: #10151c;
	--text: #e6edf3;
	--muted: #93a1b5;
	--primary: #7c5cff;
	--primary-600: #6a47ff;
	--success: #10b981;
	--danger: #ef4444;
	--surface: #0e141b;
	--border: #1f2937;
	--shadow: 0 10px 30px rgba(0,0,0,.35);
}

.light {
	--bg: #f7f9fc;
	--card: #ffffff;
	--text: #0b1220;
	--muted: #546074;
	--primary: #6346ff;
	--primary-600: #5236ef;
	--success: #059669;
	--danger: #dc2626;
	--surface: #eef2f7;
	--border: #e6eaf1;
	--shadow: 0 10px 25px rgba(0,0,0,.08);
}

/* Base */
* { box-sizing: border-box; }
html, body { height: 100%; }
body {
	margin: 0;
	font-family: 'Inter', system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, Arial, "Apple Color Emoji", "Segoe UI Emoji";
	background: radial-gradient(1200px 600px at 80% -10%, rgba(124,92,255,.15), transparent),
		radial-gradient(900px 500px at -10% 20%, rgba(16,185,129,.12), transparent),
		var(--bg);
	color: var(--text);
	line-height: 1.6;
}

.app { min-height: 100dvh; display: grid; grid-template-rows: auto 1fr auto; gap: 24px; }
.app__header, .app__footer { padding: 16px 20px; }

.app__header { display: flex; align-items: center; justify-content: space-between; }
.brand { display: flex; align-items: center; gap: 12px; }
.brand__logo { width: 36px; height: 36px; display: grid; place-items: center; background: linear-gradient(135deg, var(--primary), var(--success)); color: #fff; border-radius: 12px; box-shadow: var(--shadow); font-weight: 800; }
.brand__title { margin: 0; font-size: 20px; letter-spacing: 0.3px; }
.actions { display: flex; align-items: center; gap: 8px; }

.app__main { padding: 0 20px 20px; display: grid; place-items: center; }

/* Card */
.card { width: 100%; max-width: 880px; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)) , var(--card); border: 1px solid var(--border); border-radius: 16px; box-shadow: var(--shadow); overflow: hidden; }

/* Welcome */
.welcome { padding: 40px 22px; text-align: center; display: grid; place-items: center; }
.welcome__title { margin: 8px 0 6px; font-size: clamp(22px, 3vw, 34px); }
.welcome__subtitle { margin: 0 0 16px; color: var(--muted); }

/* Category */
.category { padding: 22px; display: grid; gap: 16px; }
.category__title { margin: 0; font-size: clamp(20px, 2.5vw, 28px); }
.category__subtitle { margin: 0; color: var(--muted); }
.category__grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(160px, 1fr)); gap: 10px; }
.cat { background: var(--surface); }
.category__actions { display: flex; justify-content: flex-end; }

/* Quiz */
.quiz { padding: 22px; display: grid; gap: 18px; }
.quiz__progress { display: grid; gap: 10px; }
.progress { height: 10px; background: var(--surface); border: 1px solid var(--border); border-radius: 999px; overflow: hidden; }
.progress__bar { height: 100%; width: 0; background: linear-gradient(90deg, var(--primary), var(--success)); box-shadow: inset 0 0 10px rgba(0,0,0,.2); transition: width .35s ease; }
.quiz__progress-text { font-size: 14px; color: var(--muted); }
.quiz__question { margin: 2px 0 4px; font-size: clamp(20px, 2.5vw, 28px); }

.quiz__options { list-style: none; margin: 0; padding: 0; display: grid; gap: 12px; }
.option { display: grid; grid-template-columns: auto 1fr auto; align-items: center; gap: 14px; padding: 14px 16px; background: linear-gradient(180deg, rgba(255,255,255,.02), rgba(255,255,255,0)), var(--surface); border: 1px solid var(--border); border-radius: 14px; cursor: pointer; transition: transform .08s ease, border-color .2s, background .2s; }
.option:hover { transform: translateY(-1px); border-color: color-mix(in oklab, var(--primary), #fff 20%); }
.option__index { width: 28px; height: 28px; display: grid; place-items: center; border-radius: 8px; background: rgba(124,92,255,.15); color: var(--primary); font-weight: 700; }
.option__text { font-size: 16px; }
.option__state { font-size: 18px; opacity: .9; }
.option[aria-selected="true"] { border-color: var(--primary); box-shadow: 0 0 0 4px color-mix(in oklab, var(--primary), transparent 75%); }
.option.correct { border-color: color-mix(in oklab, var(--success), #fff 20%); background: linear-gradient(180deg, rgba(16,185,129,.1), transparent), var(--surface); }
.option.incorrect { border-color: color-mix(in oklab, var(--danger), #fff 20%); background: linear-gradient(180deg, rgba(239,68,68,.08), transparent), var(--surface); }

.quiz__footer { display: flex; align-items: center; justify-content: space-between; gap: 16px; }
.hint { color: var(--muted); font-size: 14px; }
.controls { display: flex; gap: 10px; }

/* Buttons */
.btn { appearance: none; border: 1px solid var(--border); background: var(--card); color: var(--text); padding: 10px 14px; border-radius: 12px; font-weight: 600; cursor: pointer; transition: transform .08s ease, background .2s, border-color .2s; }
.btn:hover { transform: translateY(-1px); }
.btn:disabled { opacity: .6; cursor: not-allowed; }
.btn--primary { background: linear-gradient(135deg, var(--primary), var(--primary-600)); border-color: color-mix(in oklab, var(--primary), #000 10%); color: #fff; }
.btn--ghost { background: transparent; }

/* Result */
.result { padding: 22px; display: grid; gap: 18px; }
.result__header { display: grid; gap: 6px; }
.result__title { margin: 0; font-size: clamp(22px, 2.6vw, 30px); }
.result__subtitle { margin: 0; color: var(--muted); }
.result__stats { display: grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap: 10px; }
.stat { background: var(--surface); border: 1px solid var(--border); border-radius: 14px; padding: 14px; text-align: center; }
.stat__value { font-size: 28px; font-weight: 800; }
.stat__label { color: var(--muted); }
.review { display: grid; gap: 10px; }
.review__item { background: var(--surface); border: 1px solid var(--border); border-radius: 12px; padding: 12px; }
.review__question { margin: 0 0 6px; font-weight: 600; }
.review__answer { margin: 0; color: var(--muted); }

/* Footer */
.app__footer { color: var(--muted); text-align: center; }

/* Loading overlay */
.loading { position: fixed; inset: 0; display: grid; place-items: center; z-index: 50; }
.loading[hidden] { display: none; }
.loading__backdrop { position: absolute; inset: 0; backdrop-filter: blur(4px); background: rgba(0,0,0,.35); }
.loading__card { position: relative; background: var(--card); border: 1px solid var(--border); border-radius: 14px; padding: 18px 22px; box-shadow: var(--shadow); display: grid; place-items: center; gap: 10px; }
.spinner { width: 28px; height: 28px; border-radius: 50%; border: 3px solid color-mix(in oklab, var(--primary), transparent 65%); border-top-color: var(--primary); animation: spin 1s linear infinite; }
.loading__text { color: var(--muted); font-weight: 600; }
@keyframes spin { to { transform: rotate(360deg); } }

/* Responsive */
@media (max-width: 720px) {
	.quiz, .result { padding: 16px; }
	.option { grid-template-columns: auto 1fr; }
	.option__state { justify-self: end; }
	.controls { flex-wrap: wrap; }
} 